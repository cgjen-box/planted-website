<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>planted. ‚Äì Wo gibt's das?</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <style>
    :root {
      --purple: #7B2D8E;
      --purple-dark: #5C2269;
      --purple-light: #9B4DB0;
      --green: #6BAB24;
      --green-dark: #4a8a1a;
      --green-light: #8BC53F;
      --pink: #E91E8C;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Nunito', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #0a0a0a;
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow: hidden;
    }

    /* ========================================
       SPLIT VIEW - Initial Choice Screen
    ======================================== */
    .split-view {
      display: flex;
      height: 100vh;
      position: relative;
    }

    .panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 3rem;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      will-change: flex;
    }

    .panel-bg {
      position: absolute;
      inset: 0;
      will-change: transform;
    }

    .panel-restaurant .panel-bg {
      background: linear-gradient(165deg, var(--purple-light) 0%, var(--purple) 50%, var(--purple-dark) 100%);
    }

    .panel-retail .panel-bg {
      background: linear-gradient(165deg, var(--green-light) 0%, var(--green) 50%, var(--green-dark) 100%);
    }

    /* Subtle noise texture overlay */
    .panel-bg::before {
      content: '';
      position: absolute;
      inset: 0;
      background: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
      opacity: 0.03;
      pointer-events: none;
    }

    .panel-content {
      position: relative;
      z-index: 2;
      text-align: center;
      color: white;
      max-width: 420px;
    }

    /* ========================================
       ICON CONTAINER - Apple Style Animation
    ======================================== */
    .icon-container {
      position: relative;
      width: 160px;
      height: 160px;
      margin: 0 auto 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .icon-main {
      width: 100%;
      height: 100%;
      position: relative;
      z-index: 3;
      will-change: transform, filter;
      filter: drop-shadow(0 10px 30px rgba(0,0,0,0.2));
    }

    .icon-glow-1 {
      position: absolute;
      inset: -30px;
      background: radial-gradient(circle, rgba(255,255,255,0.35) 0%, transparent 60%);
      border-radius: 50%;
      opacity: 0;
      filter: blur(25px);
      z-index: 1;
      will-change: opacity, transform;
    }

    .icon-glow-2 {
      position: absolute;
      inset: -50px;
      background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
      border-radius: 50%;
      opacity: 0;
      filter: blur(40px);
      z-index: 0;
      will-change: opacity, transform;
    }

    .icon-blur-shadow {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      filter: blur(20px);
      z-index: 2;
      pointer-events: none;
      will-change: opacity, transform;
    }

    /* ========================================
       TYPOGRAPHY & BUTTONS
    ======================================== */
    .panel-title {
      font-size: clamp(2rem, 4vw, 2.8rem);
      font-weight: 900;
      margin-bottom: 0.75rem;
      line-height: 1.1;
      letter-spacing: -0.03em;
      text-shadow: 0 2px 20px rgba(0,0,0,0.15);
    }

    .panel-subtitle {
      font-size: 1.1rem;
      opacity: 0.85;
      font-weight: 600;
      line-height: 1.5;
      margin-bottom: 2rem;
    }

    .panel-cta {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      background: white;
      color: var(--purple);
      padding: 1.1rem 2.2rem;
      border-radius: 100px;
      font-weight: 800;
      font-size: 1.05rem;
      border: none;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      transition: box-shadow 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .panel-retail .panel-cta {
      color: var(--green-dark);
    }

    /* Shine effect on CTA */
    .panel-cta::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: left 0.5s ease;
    }

    .panel:hover .panel-cta::before {
      left: 100%;
    }

    .panel-cta .arrow {
      display: inline-block;
      transition: transform 0.3s ease;
    }

    .panel:hover .panel-cta .arrow {
      transform: translateX(4px);
    }

    /* ========================================
       ZIP OVERLAY
    ======================================== */
    .zip-overlay {
      position: fixed;
      inset: 0;
      z-index: 200;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    .zip-overlay.active {
      opacity: 1;
      visibility: visible;
      pointer-events: all;
    }

    .zip-bg {
      position: absolute;
      inset: 0;
      background: var(--purple);
    }

    .zip-overlay.green .zip-bg {
      background: var(--green);
    }

    .zip-back {
      position: absolute;
      top: 2rem;
      left: 2rem;
      z-index: 10;
      background: rgba(255,255,255,0.12);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.15);
      color: white;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .zip-back:hover {
      background: rgba(255,255,255,0.2);
      transform: scale(1.05);
    }

    .zip-content {
      position: relative;
      z-index: 5;
      text-align: center;
      color: white;
      max-width: 500px;
      padding: 2rem;
    }

    .zip-icon-container {
      position: relative;
      width: 130px;
      height: 130px;
      margin: 0 auto 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .zip-icon {
      width: 100%;
      height: 100%;
      position: relative;
      z-index: 3;
    }

    .zip-icon-glow {
      position: absolute;
      inset: -40px;
      background: radial-gradient(circle, rgba(255,255,255,0.25) 0%, transparent 60%);
      border-radius: 50%;
      filter: blur(25px);
      animation: pulse 3s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 0.5; }
      50% { transform: scale(1.15); opacity: 0.8; }
    }

    .zip-title {
      font-size: clamp(2.2rem, 5vw, 3rem);
      font-weight: 900;
      margin-bottom: 0.75rem;
      letter-spacing: -0.03em;
    }

    .zip-subtitle {
      font-size: 1.15rem;
      opacity: 0.85;
      margin-bottom: 2.5rem;
      line-height: 1.5;
    }

    .zip-input-group {
      position: relative;
      max-width: 360px;
      margin: 0 auto 1.5rem;
    }

    .zip-input {
      width: 100%;
      padding: 1.35rem 5rem 1.35rem 1.75rem;
      font-size: 1.4rem;
      font-weight: 700;
      font-family: inherit;
      border: none;
      border-radius: 100px;
      background: white;
      color: #1a1a1a;
      text-align: center;
      outline: none;
      box-shadow: 0 8px 40px rgba(0,0,0,0.15);
      transition: box-shadow 0.3s ease;
    }

    .zip-input::placeholder {
      color: #bbb;
      font-weight: 600;
    }

    .zip-input:focus {
      box-shadow: 0 8px 40px rgba(0,0,0,0.15), 0 0 0 4px rgba(255,255,255,0.3);
    }

    .zip-submit {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      width: 54px;
      height: 54px;
      border-radius: 50%;
      border: none;
      background: var(--green);
      color: white;
      cursor: pointer;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .zip-submit:hover {
      transform: translateY(-50%) scale(1.05);
      background: var(--green-dark);
    }

    .zip-or {
      color: rgba(255,255,255,0.45);
      font-size: 0.85rem;
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      font-weight: 700;
    }

    .zip-detect {
      background: rgba(255,255,255,0.12);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.2);
      color: white;
      padding: 1rem 1.75rem;
      border-radius: 100px;
      font-weight: 700;
      font-size: 1rem;
      font-family: inherit;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .zip-detect:hover {
      background: rgba(255,255,255,0.2);
      transform: translateY(-2px);
    }

    /* ========================================
       RESULTS OVERLAY
    ======================================== */
    .results-overlay {
      position: fixed;
      inset: 0;
      z-index: 200;
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      overflow-y: auto;
      overflow-x: hidden;
    }

    .results-overlay.active {
      opacity: 1;
      visibility: visible;
      pointer-events: all;
    }

    .results-bg {
      position: fixed;
      inset: 0;
      background: var(--purple);
      z-index: -1;
    }

    .results-overlay.green .results-bg {
      background: var(--green);
    }

    .results-header {
      position: sticky;
      top: 0;
      z-index: 50;
      padding: 1.25rem 2rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      background: inherit;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }

    .results-back {
      background: rgba(255,255,255,0.12);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.15);
      color: white;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: all 0.2s ease;
    }

    .results-back:hover {
      background: rgba(255,255,255,0.2);
      transform: scale(1.05);
    }

    .results-info {
      flex: 1;
      color: white;
    }

    .results-location {
      font-size: 0.8rem;
      opacity: 0.7;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }

    .results-count {
      font-weight: 800;
      font-size: 1.1rem;
    }

    .results-change {
      background: rgba(255,255,255,0.12);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.15);
      color: white;
      padding: 0.7rem 1.4rem;
      border-radius: 100px;
      font-weight: 700;
      font-size: 0.9rem;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .results-change:hover {
      background: rgba(255,255,255,0.2);
    }

    /* Tabs */
    .results-tabs {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.5rem 2rem 1.5rem;
    }

    .tab-btn {
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.12);
      color: white;
      padding: 0.85rem 1.6rem;
      border-radius: 100px;
      font-weight: 700;
      font-size: 0.95rem;
      font-family: inherit;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .tab-btn:hover {
      background: rgba(255,255,255,0.18);
    }

    .tab-btn.active {
      background: white;
      color: var(--purple);
      border-color: white;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .results-overlay.green .tab-btn.active {
      color: var(--green-dark);
    }

    /* Grid */
    .results-grid {
      padding: 0 2rem 4rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .results-subtitle {
      color: rgba(255,255,255,0.75);
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
    }

    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
      gap: 1.5rem;
    }

    /* ========================================
       RESULT CARDS
    ======================================== */
    .card {
      background: white;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 4px 30px rgba(0,0,0,0.08);
      transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), box-shadow 0.3s ease;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.12);
    }

    .card-header {
      padding: 1.25rem 1.5rem;
      border-bottom: 1px solid #f0f0f0;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
    }

    .card-name {
      font-size: 1.2rem;
      font-weight: 900;
      color: #1a1a1a;
      margin-bottom: 0.4rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .card-rating {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.85rem;
      color: #888;
      font-weight: 700;
    }

    .card-rating .star {
      color: #F7941D;
    }

    .card-meta {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      font-size: 0.85rem;
      color: #888;
      flex-wrap: wrap;
    }

    .card-category {
      background: #f5f5f5;
      padding: 0.3rem 0.7rem;
      border-radius: 6px;
      font-weight: 600;
    }

    .card-distance {
      background: var(--green);
      color: white;
      padding: 0.45rem 0.9rem;
      border-radius: 12px;
      font-weight: 800;
      font-size: 0.85rem;
      box-shadow: 0 2px 8px rgba(107, 171, 36, 0.3);
    }

    .card-dishes {
      padding: 0.75rem 1.5rem;
    }

    .dish {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      padding: 0.9rem 0;
      border-bottom: 1px solid #f5f5f5;
    }

    .dish:last-child {
      border-bottom: none;
    }

    .dish-info {
      flex: 1;
      padding-right: 1rem;
    }

    .dish-name {
      font-weight: 800;
      color: #1a1a1a;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .dish-badge {
      background: var(--green);
      color: white;
      font-size: 0.6rem;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.03em;
    }

    .dish-desc {
      font-size: 0.85rem;
      color: #888;
      margin-top: 0.35rem;
      line-height: 1.5;
    }

    .dish-price {
      font-weight: 800;
      color: var(--purple);
      font-size: 1.1rem;
      white-space: nowrap;
    }

    .card-products {
      padding: 0 1.5rem 1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
    }

    .product-tag {
      background: var(--purple);
      color: white;
      font-size: 0.72rem;
      padding: 0.4rem 0.7rem;
      border-radius: 6px;
      font-weight: 700;
    }

    .card-actions {
      padding: 1rem 1.5rem;
      background: #fafafa;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .order-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.6rem 1rem;
      border-radius: 10px;
      font-weight: 700;
      font-size: 0.85rem;
      text-decoration: none;
      border: none;
      cursor: pointer;
      font-family: inherit;
      transition: all 0.2s ease;
    }

    .order-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .order-btn.lieferando { background: #FF8000; color: white; }
    .order-btn.ubereats { background: #06C167; color: white; }
    .order-btn.wolt { background: #009DE0; color: white; }
    .order-btn.justeat { background: #FF5500; color: white; }

    /* Online delivery card */
    .delivery-card {
      background: rgba(255,255,255,0.08);
      border-radius: 24px;
      padding: 2rem;
      margin-bottom: 2rem;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .delivery-card h3 {
      color: white;
      font-size: 1.4rem;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .delivery-card p {
      color: rgba(255,255,255,0.7);
      margin-bottom: 1.5rem;
    }

    .delivery-buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .delivery-btn {
      background: white;
      color: var(--green-dark);
      padding: 0.9rem 1.75rem;
      border-radius: 100px;
      font-weight: 800;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.2s ease;
    }

    .delivery-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .delivery-btn.secondary {
      background: rgba(255,255,255,0.15);
      color: white;
    }

    /* Spinner */
    .spinner {
      width: 22px;
      height: 22px;
      border: 2.5px solid rgba(255,255,255,0.3);
      border-top-color: white;
      border-radius: 50%;
      animation: spin 0.7s linear infinite;
      display: inline-block;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Shake animation */
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-6px); }
      20%, 40%, 60%, 80% { transform: translateX(6px); }
    }

    .shake {
      animation: shake 0.5s ease;
    }

    /* ========================================
       RESPONSIVE
    ======================================== */
    @media (max-width: 768px) {
      .split-view {
        flex-direction: column;
      }

      .panel {
        min-height: 50vh;
        padding: 2rem;
      }

      .icon-container {
        width: 120px;
        height: 120px;
      }

      .cards-grid {
        grid-template-columns: 1fr;
      }

      .results-header {
        flex-wrap: wrap;
        gap: 0.75rem;
        padding: 1rem;
      }

      .results-tabs {
        flex-wrap: wrap;
        justify-content: flex-start;
        padding: 0.5rem 1rem 1rem;
        gap: 0.4rem;
      }

      .results-grid {
        padding: 0 1rem 3rem;
      }

      .zip-back {
        top: 1rem;
        left: 1rem;
        width: 48px;
        height: 48px;
      }
    }
  </style>
</head>
<body>

  <!-- ==========================================
       SPLIT VIEW - Initial Choice
  ========================================== -->
  <div class="split-view" id="splitView">
    
    <!-- Restaurant Panel -->
    <div class="panel panel-restaurant" id="panelRestaurant">
      <div class="panel-bg"></div>
      <div class="panel-content">
        <div class="icon-container">
          <div class="icon-glow-1"></div>
          <div class="icon-glow-2"></div>
          <svg class="icon-blur-shadow" viewBox="0 0 100 100" fill="none">
            <ellipse cx="50" cy="72" rx="38" ry="10" stroke="white" stroke-width="2.5" fill="none"/>
            <ellipse cx="50" cy="55" rx="25" ry="12" fill="white"/>
          </svg>
          <svg class="icon-main" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            <ellipse cx="50" cy="72" rx="38" ry="10" stroke="white" stroke-width="2.5" fill="none" opacity="0.9"/>
            <ellipse cx="50" cy="55" rx="25" ry="12" fill="white" opacity="0.95"/>
            <line x1="35" y1="52" x2="50" y2="60" stroke="#7B2D8E" stroke-width="2.5" stroke-linecap="round"/>
            <line x1="45" y1="48" x2="60" y2="56" stroke="#7B2D8E" stroke-width="2.5" stroke-linecap="round"/>
            <path d="M40 35 Q45 25, 40 15" stroke="white" stroke-width="2" stroke-linecap="round" opacity="0.5"/>
            <path d="M55 32 Q60 22, 55 12" stroke="white" stroke-width="2" stroke-linecap="round" opacity="0.5"/>
            <ellipse cx="70" cy="50" rx="8" ry="5" fill="#6BAB24" transform="rotate(30 70 50)"/>
          </svg>
        </div>
        <h2 class="panel-title">Lass es dir kochen</h2>
        <p class="panel-subtitle">8.000+ Restaurants servieren planted.<br>Jemand anderes macht die Arbeit.</p>
        <button class="panel-cta">Restaurants finden <span class="arrow">‚Üí</span></button>
      </div>
    </div>
    
    <!-- Retail Panel -->
    <div class="panel panel-retail" id="panelRetail">
      <div class="panel-bg"></div>
      <div class="panel-content">
        <div class="icon-container">
          <div class="icon-glow-1"></div>
          <div class="icon-glow-2"></div>
          <svg class="icon-blur-shadow" viewBox="0 0 100 100" fill="none">
            <path d="M25 35 L28 82 Q30 88, 50 88 Q70 88, 72 82 L75 35" stroke="white" stroke-width="2.5" fill="none"/>
          </svg>
          <svg class="icon-main" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M25 35 L28 82 Q30 88, 50 88 Q70 88, 72 82 L75 35" stroke="white" stroke-width="2.5" fill="none" stroke-linejoin="round" opacity="0.9"/>
            <path d="M35 35 L35 25 Q35 15, 50 15 Q65 15, 65 25 L65 35" stroke="white" stroke-width="2.5" fill="none" stroke-linecap="round"/>
            <rect x="33" y="45" width="15" height="30" rx="3" fill="#7B2D8E"/>
            <rect x="52" y="42" width="15" height="33" rx="3" fill="#9B4DB0"/>
            <ellipse cx="50" cy="22" rx="12" ry="6" fill="white" opacity="0.9" transform="rotate(-10 50 22)"/>
          </svg>
        </div>
        <h2 class="panel-title">Selber machen</h2>
        <p class="panel-subtitle">Pack auf. Pfanne. 6 Minuten.<br>So einfach ist das.</p>
        <button class="panel-cta">Laden finden <span class="arrow">‚Üí</span></button>
      </div>
    </div>
  </div>

  <!-- ==========================================
       ZIP INPUT OVERLAY
  ========================================== -->
  <div class="zip-overlay" id="zipView">
    <div class="zip-bg"></div>
    <button class="zip-back" id="zipBack">‚Üê</button>
    <div class="zip-content">
      <div class="zip-icon-container">
        <div class="zip-icon-glow"></div>
        <svg class="zip-icon" id="zipIconSvg" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- Will be set dynamically -->
        </svg>
      </div>
      <h2 class="zip-title">Wo bist du?</h2>
      <p class="zip-subtitle" id="zipSubtitle">Wir zeigen dir Restaurants in deiner N√§he, die planted servieren.</p>
      
      <div class="zip-input-group">
        <input 
          type="text" 
          class="zip-input" 
          id="zipInput" 
          placeholder="PLZ eingeben"
          maxlength="5"
          inputmode="numeric"
          autocomplete="postal-code"
        >
        <button class="zip-submit" id="zipSubmit">‚Üí</button>
      </div>

      <p class="zip-or">oder</p>
      <button class="zip-detect" id="zipDetect">
        <span>üìç</span> Standort verwenden
      </button>
    </div>
  </div>

  <!-- ==========================================
       RESULTS OVERLAY
  ========================================== -->
  <div class="results-overlay" id="resultsView">
    <div class="results-bg"></div>
    
    <div class="results-header">
      <button class="results-back" id="resultsBack">‚Üê</button>
      <div class="results-info">
        <div class="results-location"><span>üìç</span> <span id="resultsLocationText">Deutschland</span></div>
        <div class="results-count" id="resultsCount">8 Restaurants gefunden</div>
      </div>
      <button class="results-change" id="resultsChange">PLZ √§ndern</button>
    </div>

    <div class="results-tabs" id="resultsTabs">
      <button class="tab-btn active" data-tab="restaurants">üçΩÔ∏è Restaurants</button>
      <button class="tab-btn" data-tab="delivery">üõµ Lieferdienste</button>
    </div>

    <div class="results-grid" id="resultsGrid"></div>
  </div>

  <!-- ==========================================
       JAVASCRIPT
  ========================================== -->
  <script>
    // ==========================================
    // STATE
    // ==========================================
    const state = {
      path: null, // 'restaurant' or 'retail'
      zip: '',
      tab: 'restaurants'
    };

    // ==========================================
    // ELEMENTS
    // ==========================================
    const $ = id => document.getElementById(id);
    const panelRestaurant = $('panelRestaurant');
    const panelRetail = $('panelRetail');
    const zipView = $('zipView');
    const zipInput = $('zipInput');
    const zipIconSvg = $('zipIconSvg');
    const zipSubtitle = $('zipSubtitle');
    const resultsView = $('resultsView');
    const resultsGrid = $('resultsGrid');
    const resultsCount = $('resultsCount');
    const resultsLocationText = $('resultsLocationText');
    const resultsTabs = $('resultsTabs');

    // Icon SVG content
    const restaurantIconSvg = `
      <ellipse cx="50" cy="72" rx="38" ry="10" stroke="white" stroke-width="2.5" fill="none" opacity="0.9"/>
      <ellipse cx="50" cy="55" rx="25" ry="12" fill="white" opacity="0.95"/>
      <line x1="35" y1="52" x2="50" y2="60" stroke="#7B2D8E" stroke-width="2.5" stroke-linecap="round"/>
      <line x1="45" y1="48" x2="60" y2="56" stroke="#7B2D8E" stroke-width="2.5" stroke-linecap="round"/>
      <path d="M40 35 Q45 25, 40 15" stroke="white" stroke-width="2" stroke-linecap="round" opacity="0.5"/>
      <path d="M55 32 Q60 22, 55 12" stroke="white" stroke-width="2" stroke-linecap="round" opacity="0.5"/>
      <ellipse cx="70" cy="50" rx="8" ry="5" fill="#6BAB24" transform="rotate(30 70 50)"/>
    `;

    const retailIconSvg = `
      <path d="M25 35 L28 82 Q30 88, 50 88 Q70 88, 72 82 L75 35" stroke="white" stroke-width="2.5" fill="none" stroke-linejoin="round" opacity="0.9"/>
      <path d="M35 35 L35 25 Q35 15, 50 15 Q65 15, 65 25 L65 35" stroke="white" stroke-width="2.5" fill="none" stroke-linecap="round"/>
      <rect x="33" y="45" width="15" height="30" rx="3" fill="#7B2D8E"/>
      <rect x="52" y="42" width="15" height="33" rx="3" fill="#9B4DB0"/>
      <ellipse cx="50" cy="22" rx="12" ry="6" fill="white" opacity="0.9" transform="rotate(-10 50 22)"/>
    `;

    // ==========================================
    // MOCK DATA
    // ==========================================
    const restaurants = [
      {
        name: "dean&david",
        rating: 4.4,
        reviews: 118,
        location: "Berlin Mitte",
        category: "Healthy Bowls",
        distance: "1.4 km",
        dishes: [
          { name: "Tuscany Chicken Salad", vegan: true, desc: "planted.chicken mit italienischen Aromen, getrockneten Tomaten, Pinienkernen", price: "‚Ç¨12.90" },
          { name: "Planted Bowl", vegan: true, desc: "Jasminreis, planted.chicken, Edamame, Avocado, Sesam", price: "‚Ç¨13.90" }
        ],
        products: ["planted.chicken"],
        orders: [{ platform: "lieferando", url: "#" }, { platform: "wolt", url: "#" }]
      },
      {
        name: "Sphere Tim Raue",
        rating: 4.8,
        reviews: 42,
        location: "Berlin Fernsehturm",
        category: "Fine Dining",
        distance: "2.1 km",
        dishes: [
          { name: "planted.steak", vegan: true, desc: "Tr√ºffelrahmsauce, confierte Champignons, Selleriep√ºree", price: "‚Ç¨36.00" }
        ],
        products: ["planted.steak"],
        orders: [{ platform: "website", url: "#", label: "Reservieren" }]
      },
      {
        name: "Birdie Birdie",
        rating: 4.2,
        reviews: 87,
        location: "Berlin Kreuzberg",
        category: "Chicken Burgers",
        distance: "2.4 km",
        dishes: [
          { name: "Classic Planted Burger", vegan: true, desc: "Crispy planted.chicken, K√§se, Salat, Pickle, Signature Sauce", price: "‚Ç¨8.85" },
          { name: "Spicy Planted Burger", vegan: true, desc: "planted.chicken, Jalape√±os, Chipotle Mayo, Buffalo Sauce", price: "‚Ç¨9.75" }
        ],
        products: ["planted.chicken"],
        orders: [{ platform: "justeat", url: "#" }]
      },
      {
        name: "doen doen kebap",
        rating: 4.7,
        reviews: 156,
        location: "Berlin Neuk√∂lln",
        category: "Vegan Kebab",
        distance: "3.0 km",
        dishes: [
          { name: "Planted Kebap D√∂ner", vegan: true, desc: "Veganer D√∂ner mit planted.kebab, frischem Salat, gegrilltem Gem√ºse", price: "‚Ç¨8.90" },
          { name: "Planted D√ºr√ºm", vegan: true, desc: "Wrap mit planted.kebab, Salatmix, Joghurt-Sauce", price: "‚Ç¨9.50" }
        ],
        products: ["planted.kebab"],
        orders: [{ platform: "wolt", url: "#" }, { platform: "ubereats", url: "#" }]
      }
    ];

    const retailStores = [
      { name: "REWE", address: "Alexanderplatz 5", distance: "850 m" },
      { name: "EDEKA", address: "Karl-Marx-Allee 90", distance: "1.2 km" },
      { name: "Kaufland", address: "Landsberger Allee 171", distance: "2.8 km" }
    ];

    // ==========================================
    // APPLE-STYLE ICON ANIMATIONS
    // ==========================================
    function appleIconHoverIn(panel) {
      const icon = panel.querySelector('.icon-main');
      const blurShadow = panel.querySelector('.icon-blur-shadow');
      const glow1 = panel.querySelector('.icon-glow-1');
      const glow2 = panel.querySelector('.icon-glow-2');
      const bg = panel.querySelector('.panel-bg');
      const content = panel.querySelector('.panel-content');
      const cta = panel.querySelector('.panel-cta');
      const otherPanel = panel === panelRestaurant ? panelRetail : panelRestaurant;

      // Timeline for Apple-style animation
      const tl = gsap.timeline();

      // Step 1: Initial blur burst + scale up
      tl.to(icon, {
        filter: 'blur(12px) drop-shadow(0 10px 30px rgba(0,0,0,0.2))',
        scale: 1.25,
        duration: 0.15,
        ease: 'power2.out'
      }, 0);

      // Blur shadow appears
      tl.to(blurShadow, {
        opacity: 0.5,
        scale: 1.35,
        duration: 0.2,
        ease: 'power2.out'
      }, 0);

      // Step 2: Sharpen while staying scaled
      tl.to(icon, {
        filter: 'blur(0px) drop-shadow(0 15px 40px rgba(0,0,0,0.25))',
        scale: 1.15,
        rotation: -3,
        duration: 0.45,
        ease: 'power3.out'
      }, 0.15);

      // Blur shadow settles
      tl.to(blurShadow, {
        opacity: 0.25,
        scale: 1.4,
        duration: 0.4,
        ease: 'power2.out'
      }, 0.15);

      // Glow layers fade in
      tl.to(glow1, {
        opacity: 1,
        scale: 1.15,
        duration: 0.6,
        ease: 'power2.out'
      }, 0.1);

      tl.to(glow2, {
        opacity: 1,
        scale: 1.2,
        duration: 0.8,
        ease: 'power2.out'
      }, 0.15);

      // Panel expand
      gsap.to(panel, {
        flex: 1.5,
        duration: 0.7,
        ease: 'power3.out'
      });

      gsap.to(otherPanel, {
        flex: 0.5,
        duration: 0.7,
        ease: 'power3.out'
      });

      // Background subtle scale
      gsap.to(bg, {
        scale: 1.05,
        duration: 0.9,
        ease: 'power2.out'
      });

      // Content lift
      gsap.to(content, {
        y: -12,
        duration: 0.5,
        ease: 'power2.out'
      });

      // CTA pop
      gsap.to(cta, {
        scale: 1.05,
        y: -6,
        boxShadow: '0 12px 40px rgba(0,0,0,0.2)',
        duration: 0.4,
        ease: 'power2.out'
      });

      // Dim other panel
      gsap.to(otherPanel.querySelector('.icon-main'), {
        opacity: 0.4,
        scale: 0.85,
        filter: 'blur(3px)',
        duration: 0.5,
        ease: 'power2.out'
      });

      gsap.to(otherPanel.querySelector('.panel-content'), {
        opacity: 0.5,
        duration: 0.5,
        ease: 'power2.out'
      });
    }

    function appleIconHoverOut() {
      gsap.to('.icon-main', {
        filter: 'blur(0px) drop-shadow(0 10px 30px rgba(0,0,0,0.2))',
        scale: 1,
        rotation: 0,
        opacity: 1,
        duration: 0.5,
        ease: 'power2.out'
      });

      gsap.to('.icon-blur-shadow', {
        opacity: 0,
        scale: 1,
        duration: 0.4,
        ease: 'power2.out'
      });

      gsap.to(['.icon-glow-1', '.icon-glow-2'], {
        opacity: 0,
        scale: 0.8,
        duration: 0.5,
        ease: 'power2.out'
      });

      gsap.to([panelRestaurant, panelRetail], {
        flex: 1,
        duration: 0.7,
        ease: 'power3.out'
      });

      gsap.to('.panel-bg', {
        scale: 1,
        duration: 0.6,
        ease: 'power2.out'
      });

      gsap.to('.panel-content', {
        y: 0,
        opacity: 1,
        duration: 0.5,
        ease: 'power2.out'
      });

      gsap.to('.panel-cta', {
        scale: 1,
        y: 0,
        boxShadow: '0 4px 20px rgba(0,0,0,0.15)',
        duration: 0.4,
        ease: 'power2.out'
      });
    }

    // Setup hover events
    [panelRestaurant, panelRetail].forEach(panel => {
      panel.addEventListener('mouseenter', () => appleIconHoverIn(panel));
      panel.addEventListener('mouseleave', appleIconHoverOut);
    });

    // ==========================================
    // TRANSITIONS
    // ==========================================
    function transitionToZip(path) {
      state.path = path;

      // Configure ZIP view
      if (path === 'restaurant') {
        zipView.classList.remove('green');
        zipIconSvg.innerHTML = restaurantIconSvg;
        zipSubtitle.textContent = 'Wir zeigen dir Restaurants in deiner N√§he, die planted servieren.';
      } else {
        zipView.classList.add('green');
        zipIconSvg.innerHTML = retailIconSvg;
        zipSubtitle.textContent = 'Wir zeigen dir, wo du planted kaufen kannst.';
      }

      const selectedPanel = path === 'restaurant' ? panelRestaurant : panelRetail;
      const otherPanel = path === 'restaurant' ? panelRetail : panelRestaurant;
      const selectedIcon = selectedPanel.querySelector('.icon-main');

      const tl = gsap.timeline();

      // Slide out other panel
      tl.to(otherPanel, {
        flex: 0,
        opacity: 0,
        duration: 0.45,
        ease: 'power3.inOut'
      }, 0);

      // Icon blur-out explosion
      tl.to(selectedIcon, {
        filter: 'blur(30px)',
        scale: 2,
        opacity: 0,
        duration: 0.5,
        ease: 'power2.in'
      }, 0);

      // Fade content
      tl.to(selectedPanel.querySelector('.panel-content'), {
        opacity: 0,
        y: -40,
        duration: 0.4,
        ease: 'power2.in'
      }, 0.1);

      // Show ZIP view
      tl.add(() => {
        zipView.classList.add('active');
        gsap.set('.zip-content', { opacity: 0, y: 50 });
        gsap.set('.zip-back', { opacity: 0, x: -30 });
        gsap.set('.zip-icon', { filter: 'blur(30px)', scale: 0.3, opacity: 0 });
      }, 0.4);

      // Apple-style icon reveal: blur ‚Üí sharp
      tl.to('.zip-icon', {
        filter: 'blur(0px)',
        scale: 1,
        opacity: 1,
        duration: 0.7,
        ease: 'power3.out'
      }, 0.5);

      tl.to('.zip-content', {
        opacity: 1,
        y: 0,
        duration: 0.55,
        ease: 'power3.out'
      }, 0.55);

      tl.to('.zip-back', {
        opacity: 1,
        x: 0,
        duration: 0.45,
        ease: 'power2.out'
      }, 0.5);

      tl.add(() => zipInput.focus(), 0.95);
    }

    function transitionToSplit() {
      const tl = gsap.timeline();

      tl.to(['.zip-content', '.zip-back'], {
        opacity: 0,
        y: -30,
        duration: 0.3,
        ease: 'power2.in'
      }, 0);

      tl.add(() => zipView.classList.remove('active'), 0.3);

      tl.to([panelRestaurant, panelRetail], {
        flex: 1,
        opacity: 1,
        duration: 0.55,
        ease: 'power3.out'
      }, 0.3);

      // Icons blur-in reveal
      tl.fromTo('.icon-main',
        { filter: 'blur(20px)', scale: 0.5, opacity: 0 },
        { filter: 'blur(0px) drop-shadow(0 10px 30px rgba(0,0,0,0.2))', scale: 1, opacity: 1, duration: 0.6, ease: 'power3.out' },
        0.4
      );

      tl.to('.panel-content', {
        opacity: 1,
        y: 0,
        duration: 0.45,
        ease: 'power2.out'
      }, 0.45);
    }

    function transitionToResults() {
      state.zip = zipInput.value;

      // Configure results
      if (state.path === 'restaurant') {
        resultsView.classList.remove('green');
        resultsTabs.style.display = 'flex';
        resultsCount.textContent = `${restaurants.length} Restaurants in ${state.zip}`;
        resultsLocationText.textContent = 'Deutschland ¬∑ ' + state.zip;
      } else {
        resultsView.classList.add('green');
        resultsTabs.style.display = 'none';
        resultsCount.textContent = `${retailStores.length} L√§den & Online-Shops`;
        resultsLocationText.textContent = 'Deutschland ¬∑ ' + state.zip;
      }

      const tl = gsap.timeline();

      tl.to(['.zip-content', '.zip-back'], {
        opacity: 0,
        scale: 0.95,
        duration: 0.3,
        ease: 'power2.in'
      }, 0);

      tl.add(() => {
        zipView.classList.remove('active');
        resultsView.classList.add('active');
        renderResults();
      }, 0.3);

      tl.from('.results-header', {
        y: -30,
        opacity: 0,
        duration: 0.45,
        ease: 'power3.out'
      }, 0.35);

      tl.from('.results-tabs', {
        y: -15,
        opacity: 0,
        duration: 0.35,
        ease: 'power2.out'
      }, 0.4);

      tl.add(() => {
        gsap.from('.card', {
          y: 50,
          opacity: 0,
          duration: 0.55,
          stagger: 0.1,
          ease: 'power3.out'
        });
      }, 0.5);
    }

    function transitionBackToZip() {
      const tl = gsap.timeline();

      tl.to('.results-grid', {
        opacity: 0,
        y: 30,
        duration: 0.3,
        ease: 'power2.in'
      }, 0);

      tl.to(['.results-header', '.results-tabs'], {
        opacity: 0,
        y: -15,
        duration: 0.25,
        ease: 'power2.in'
      }, 0);

      tl.add(() => {
        resultsView.classList.remove('active');
        zipView.classList.add('active');
        gsap.set('.zip-content', { opacity: 0, y: 30 });
        gsap.set('.zip-back', { opacity: 0, x: -20 });
        gsap.set('.zip-icon', { filter: 'blur(15px)', scale: 0.7 });
      }, 0.3);

      tl.to('.zip-icon', {
        filter: 'blur(0px)',
        scale: 1,
        duration: 0.55,
        ease: 'power3.out'
      }, 0.35);

      tl.to('.zip-content', {
        opacity: 1,
        y: 0,
        duration: 0.45,
        ease: 'power3.out'
      }, 0.38);

      tl.to('.zip-back', {
        opacity: 1,
        x: 0,
        duration: 0.35,
        ease: 'power2.out'
      }, 0.38);

      tl.add(() => {
        gsap.set(['.results-grid', '.results-header', '.results-tabs'], { opacity: 1, y: 0 });
        zipInput.focus();
      }, 0.55);
    }

    // ==========================================
    // RENDER FUNCTIONS
    // ==========================================
    function renderResults() {
      if (state.path === 'restaurant') {
        if (state.tab === 'restaurants') {
          renderRestaurants();
        } else {
          renderDelivery();
        }
      } else {
        renderRetail();
      }
    }

    function renderRestaurants() {
      resultsGrid.innerHTML = `
        <p class="results-subtitle">Restaurants in deiner N√§he, die planted servieren</p>
        <div class="cards-grid">
          ${restaurants.map(r => `
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-name">
                    ${r.name}
                    <span class="card-rating"><span class="star">‚òÖ</span> ${r.rating}</span>
                  </div>
                  <div class="card-meta">
                    <span>üìç ${r.location}</span>
                    <span class="card-category">${r.category}</span>
                  </div>
                </div>
                <span class="card-distance">${r.distance}</span>
              </div>
              <div class="card-dishes">
                ${r.dishes.map(d => `
                  <div class="dish">
                    <div class="dish-info">
                      <div class="dish-name">
                        ${d.name}
                        ${d.vegan ? '<span class="dish-badge">Vegan</span>' : ''}
                      </div>
                      <div class="dish-desc">${d.desc}</div>
                    </div>
                    <div class="dish-price">${d.price}</div>
                  </div>
                `).join('')}
              </div>
              <div class="card-products">
                ${r.products.map(p => `<span class="product-tag">${p}</span>`).join('')}
              </div>
              <div class="card-actions">
                ${r.orders.map(o => `
                  <a href="${o.url}" class="order-btn ${o.platform}" target="_blank">
                    ${o.label || platformName(o.platform)} ‚Üó
                  </a>
                `).join('')}
              </div>
            </div>
          `).join('')}
        </div>
      `;
    }

    function renderDelivery() {
      resultsGrid.innerHTML = `
        <div class="delivery-card">
          <h3>üöÄ Direkt nach Hause</h3>
          <p>Bestelle bei diesen Lieferdiensten und such nach Restaurants mit planted.</p>
          <div class="delivery-buttons">
            <a href="#" class="delivery-btn">üç¥ Lieferando</a>
            <a href="#" class="delivery-btn secondary">üõµ Wolt</a>
            <a href="#" class="delivery-btn secondary">ü•° Uber Eats</a>
            <a href="#" class="delivery-btn secondary">üçï Just Eat</a>
          </div>
        </div>
        <p class="results-subtitle">Oder schau dir die Restaurants oben an</p>
      `;
    }

    function renderRetail() {
      resultsGrid.innerHTML = `
        <div class="delivery-card">
          <h3>üè† Lieber liefern lassen?</h3>
          <p>Bestelle planted direkt zu dir nach Hause</p>
          <div class="delivery-buttons">
            <a href="https://shop.eatplanted.com" class="delivery-btn" target="_blank">üå± planted Shop</a>
            <a href="#" class="delivery-btn secondary">üõí REWE Online</a>
            <a href="#" class="delivery-btn secondary">üõí Amazon Fresh</a>
          </div>
        </div>
        <p class="results-subtitle">Oder im Laden kaufen</p>
        <div class="cards-grid">
          ${retailStores.map(s => `
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-name">üõí ${s.name}</div>
                  <div class="card-meta">${s.address}</div>
                </div>
                <span class="card-distance">${s.distance}</span>
              </div>
              <div class="card-actions">
                <a href="#" class="order-btn" style="background: #f0f0f0; color: #1a1a1a;">üìç Route</a>
                <a href="#" class="order-btn" style="background: var(--green); color: white;">üõí Online kaufen</a>
              </div>
            </div>
          `).join('')}
        </div>
      `;
    }

    function platformName(p) {
      const names = {
        lieferando: 'Lieferando',
        ubereats: 'Uber Eats',
        wolt: 'Wolt',
        justeat: 'Just Eat',
        website: 'Website'
      };
      return names[p] || p;
    }

    // ==========================================
    // EVENT LISTENERS
    // ==========================================
    panelRestaurant.addEventListener('click', () => transitionToZip('restaurant'));
    panelRetail.addEventListener('click', () => transitionToZip('retail'));

    $('zipBack').addEventListener('click', transitionToSplit);

    $('zipSubmit').addEventListener('click', () => {
      if (zipInput.value.length >= 4) {
        transitionToResults();
      } else {
        zipInput.classList.add('shake');
        setTimeout(() => zipInput.classList.remove('shake'), 500);
      }
    });

    zipInput.addEventListener('keypress', e => {
      if (e.key === 'Enter') $('zipSubmit').click();
    });

    $('zipDetect').addEventListener('click', function() {
      const btn = this;
      const originalHTML = btn.innerHTML;
      btn.innerHTML = '<span class="spinner"></span> Ermittle...';
      btn.disabled = true;

      setTimeout(() => {
        zipInput.value = '10115';
        btn.innerHTML = originalHTML;
        btn.disabled = false;
        transitionToResults();
      }, 1400);
    });

    $('resultsBack').addEventListener('click', transitionBackToZip);
    $('resultsChange').addEventListener('click', transitionBackToZip);

    // Tab switching
    resultsTabs.addEventListener('click', e => {
      const tab = e.target.closest('.tab-btn');
      if (!tab) return;

      document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      state.tab = tab.dataset.tab;

      gsap.to('.cards-grid, .delivery-card', {
        opacity: 0,
        y: 15,
        duration: 0.2,
        ease: 'power2.in',
        onComplete: () => {
          renderResults();
          gsap.from('.cards-grid, .delivery-card', {
            opacity: 0,
            y: 15,
            duration: 0.35,
            ease: 'power2.out'
          });
        }
      });
    });
  </script>
</body>
</html>
